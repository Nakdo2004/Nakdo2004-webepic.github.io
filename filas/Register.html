<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epic-注册</title>
    <link rel="stylesheet" href="../css/index.min.css">
    <link rel="stylesheet" href="../css/5.min.css">
    <link rel="stylesheet" href="../css/register.css">
    <link rel="icon" href="../favicon.ico">
</head>
<style>
            .footer_ul{
            text-align: center;
             margin-left: 40%; 

        }
</style>
<body>
    <header>
        <ul>
            <li>
                <h1><span>epic</span></h1>
            </li>
            <li>
                <a href="../index.html">首页</a>
            </li>
            <li>
                <a href="./1.html">商城</a>
            </li>
            <li>
                <a href="./2.html">新闻</a>
            </li>
            <li>
                <a href="./3.html">常见问题</a>
            </li>
            <li>
                <a href="./4.html">帮助</a>
            </li>
        </ul>
        <a href="./Register.html">注册</a>
        <a href="./5.html">登录</a>
        <div class="cc"></div>
    </header>

    <main>
        <div class="register-container">
            <h2>注册您的EPIC账户</h2>
            <div class="register-form">
                <form id="registerForm">
                    <input type="text" id="username" name="username" placeholder="用户名" required minlength="4" maxlength="20">
                    <div class="error-message" id="usernameError"></div>
                    
                    <input type="email" id="email" name="email" placeholder="电子邮箱" required>
                    <div class="error-message" id="emailError"></div>
                    
                    <input type="password" id="password" name="password" placeholder="密码" required minlength="8">
                    <div class="error-message" id="passwordError"></div>
                    
                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="确认密码" required>
                    <div class="error-message" id="confirmPasswordError"></div>
                    
                    <input type="tel" id="phone" name="phone" placeholder="手机号 (可选)" pattern="\d{11}" maxlength="11">
                    <div class="error-message" id="phoneError"></div>
                    
                    <div class="terms-agreement">
                        <input type="checkbox" id="agreeTerms" name="agreeTerms" required>
                        <label for="agreeTerms">我已阅读并同意<a href="../filas/terms.html">服务条款</a>和<a href="../filas/privacy.html">隐私政策</a></label>
                    </div>
                    <div class="error-message" id="termsError"></div>
                    
                    <input type="submit" value="注册">
                </form>
                <p class="register-footer">已有Epic Games账户？<a href="../filas/5.html">登录</a></p>
            </div>
        </div>
    </main>

    <footer>
        <p>© 2021, Epic Games, Inc. 版权所有。Epic、Epic Games、Epic Games标志、Fortnite（堡垒之夜）、Fortnite（堡垒之夜）标志、Unreal（虚幻）、Unreal Engine</p>
        <p>（虚幻引擎）、Unreal Engine（虚幻引擎）标志、Unreal Tournament（虚幻竞技场）以及Unreal Tournament（虚幻竞技场）标志属于Epic Games, Inc.在美利坚合</p>
        <p>众国及其他地区的商标或已注册商标。其他品牌或产品名称属于其各自拥有者的商标。美国以外事务通过Epic Games International, S.à r.l.办理。</p>
        <div class="footer_p"></div>
        <div class="cc"></div>
        <ul>
            <li><a href="../filas/terms.html">服务条款</a></li>
            <li><a href="../filas/privacy.html">隐私政策</a></li>
            <li><a href="../filas/refund.html">商店退款政策</a></li>
        </ul>
    </footer>

</body>
</html>

<script>
        document.addEventListener('DOMContentLoaded', function() {
    const registerForm = document.getElementById('registerForm');
    
    // 错误提示元素
    const usernameError = document.getElementById('usernameError');
    const emailError = document.getElementById('emailError');
    const passwordError = document.getElementById('passwordError');
    const confirmPasswordError = document.getElementById('confirmPasswordError');
    const phoneError = document.getElementById('phoneError');
    const termsError = document.getElementById('termsError');

    // 清除所有错误信息
    function clearErrors() {
        usernameError.textContent = '';
        emailError.textContent = '';
        passwordError.textContent = '';
        confirmPasswordError.textContent = '';
        phoneError.textContent = '';
        termsError.textContent = '';
    }

    // 验证用户名
    function validateUsername(username) {
        if (username.length < 4) {
            usernameError.textContent = '用户名至少需要4个字符';
            return false;
        }
        if (username.length > 20) {
            usernameError.textContent = '用户名不能超过20个字符';
            return false;
        }
        if (!/^[a-zA-Z0-9_]+$/.test(username)) {
            usernameError.textContent = '用户名只能包含字母、数字和下划线';
            return false;
        }
        return true;
    }

    // 验证邮箱
    function validateEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            emailError.textContent = '请输入有效的电子邮箱地址';
            return false;
        }
        return true;
    }

    // 验证密码
    function validatePassword(password) {
        if (password.length < 8) {
            passwordError.textContent = '密码至少需要8个字符';
            return false;
        }
        return true;
    }

    // 验证确认密码
    function validateConfirmPassword(password, confirmPassword) {
        if (password !== confirmPassword) {
            confirmPasswordError.textContent = '两次输入的密码不一致';
            return false;
        }
        return true;
    }

    // 验证手机号
    function validatePhone(phone) {
        if (phone && !/^\d{11}$/.test(phone)) {
            phoneError.textContent = '请输入有效的11位手机号码';
            return false;
        }
        return true;
    }

    // 验证条款同意
    function validateTerms(agreeTerms) {
        if (!agreeTerms) {
            termsError.textContent = '请同意服务条款和隐私政策';
            return false;
        }
        return true;
    }

    // 表单提交处理
    registerForm.addEventListener('submit', function(e) {
        e.preventDefault();
        clearErrors();
        
        // 获取表单值
        const username = document.getElementById('username').value.trim();
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const phone = document.getElementById('phone').value.trim();
        const agreeTerms = document.getElementById('agreeTerms').checked;
        
        // 验证所有字段
        const isUsernameValid = validateUsername(username);
        const isEmailValid = validateEmail(email);
        const isPasswordValid = validatePassword(password);
        const isConfirmPasswordValid = validateConfirmPassword(password, confirmPassword);
        const isPhoneValid = validatePhone(phone);
        const isTermsValid = validateTerms(agreeTerms);
        
        // 如果所有验证通过
        if (isUsernameValid && isEmailValid && isPasswordValid && 
            isConfirmPasswordValid && isPhoneValid && isTermsValid) {
            
            // 这里可以添加实际的注册逻辑，比如发送AJAX请求到服务器
            // 模拟注册成功
            alert('注册成功！即将跳转到首页');
            
            // 3秒后跳转到首页
            setTimeout(function() {
                window.location.href = '../index.html';
            }, 3000);
        }
    });

    // 实时验证手机号格式
    document.getElementById('phone').addEventListener('input', function() {
        const phone = this.value.trim();
        if (phone && !/^\d*$/.test(phone)) {
            this.value = this.value.replace(/\D/g, '');
        }
    });
});
</script>